<script>
    // Object for Body Mass Index (BMI) chart configuration
    const BMIOptions = {
        // Data labels configuration
        dataLabels: {
            enabled: false, // Disable data labels
            style: {
                cssClass: 'text-xs text-white font-medium' // Custom CSS class for labels
            },
        },
        // Grid configuration
        grid: {
            show: true, // Show grid
            strokeDashArray: 6, // Dash array for grid lines
            padding: {
                left: 20,
                right: 20,
                top: -10
            },
        },
        // Annotations configuration
        annotations: {
            yaxis: [{
                y: tempBMI, // Value of userBMI from DB
                strokeDashArray: 0, // Solid line
                borderColor: '#775DD0', // Line color
                label: {
                    borderColor: '#775DD0',
                    style: {
                        color: '#fff',
                        background: '#775DD0',
                    },
                    text: 'Your BMI', // Annotation label text
                }
            }]
        },
        // Series data
        series: [
            {
                name: "Average BMI",
                data: [10, 15, 20, 25, 30, 35], // BMI data points
                color: "#1A56DB",
            },
        ],
        // Chart configuration
        chart: {
            height: "200px",
            maxWidth: "100%",
            type: "line",
            fontFamily: "Inter, sans-serif",
            dropShadow: {
                enabled: false,
            },
            toolbar: {
                show: false,
            },
        },
        // Tooltip configuration
        tooltip: {
            enabled: true,
            x: {
                show: true,
            },
        },
        // Legend configuration
        legend: {
            show: false
        },
        // Fill configuration
        fill: {
            type: "gradient",
            gradient: {
                opacityFrom: 1,
                opacityTo: 1,
                shadeIntensity: 1,
                type: 'vertical',
                gradientToColors: ["#1C64F2"],
                colorStops: [
                    { offset: 0, color: "red", opacity: 1 },
                    { offset: 25, color: "yellow", opacity: 1 },
                    { offset: 50, color: "green", opacity: 1 },
                    { offset: 80, color: "yellow", opacity: 1 },
                    { offset: 100, color: "red", opacity: 1 }
                ]
            },
        },
        // Stroke configuration
        stroke: {
            curve: 'straight',
            width: 6,
        },
        // X-axis ranges
        xaxis: {
            categories: ['Underweight', 'Underweight', 'Normal', 'Normal', 'Overweight', 'Overweight'],
            labels: {
                show: false,
            },
            axisBorder: {
                show: false,
            },
            axisTicks: {
                show: false,
            },
        },
        // Y-axis configuration
        yaxis: {
            show: true,
            labels: {
                formatter: function (value) {
                    return value;
                }
            }
        },
    }

    // Remove annotations if tempBMI is not defined
    if (!tempBMI) {
        // console.log("deleted BMIOptions annotations.");
        delete BMIOptions.annotations;
    }

    // Render BMI chart if element exists and ApexCharts is available
    if (document.getElementById("bmi-chart") && typeof ApexCharts !== 'undefined') {
        const BMIchart = new ApexCharts(document.getElementById("bmi-chart"), BMIOptions);
        BMIchart.render();
    }

    // Object for Body Fat (BF) chart configuration
    const BFOptions = {
        // Data labels configuration
        dataLabels: {
            enabled: false, // Disable data labels
            style: {
                cssClass: 'text-xs text-white font-medium' // Custom CSS class for labels
            },
        },
        // Grid configuration
        grid: {
            show: true, // Show grid
            strokeDashArray: 6, // Dash array for grid lines
            padding: {
                left: 20,
                right: 20,
                top: -10
            },
        },
        // Annotations configuration
        annotations: {
            yaxis: [{
                y: tempBF, // Value of userBF from DB
                strokeDashArray: 0, // Solid line
                borderColor: '#775DD0', // Line color
                label: {
                    borderColor: '#775DD0',
                    style: {
                        color: '#fff',
                        background: '#775DD0',
                    },
                    text: 'Your BF%', // Annotation label text
                }
            }]
        },
        // Series data
        series: [
            {
                name: "Average BF%",
                data: [5, 10, 15, 20, 25, 30, 35], // BF% data points
                color: "#1A56DB", // Line color
            },
        ],
        // Chart configuration
        chart: {
            height: "200px",
            maxWidth: "100%",
            type: "line",
            fontFamily: "Inter, sans-serif",
            dropShadow: {
                enabled: false,
            },
            toolbar: {
                show: false,
            },
        },
        // Tooltip configuration
        tooltip: {
            enabled: true,
            x: {
                show: true,
            },
        },
        // Legend configuration
        legend: {
            show: true
        },
        // Fill configuration
        fill: {
            type: "gradient",
            gradient: {
                opacityFrom: 1,
                opacityTo: 1,
                shadeIntensity: 1,
                type: 'vertical',
                gradientToColors: ["#1C64F2"],
                colorStops: [
                    { offset: 0, color: "red", opacity: 1 },
                    { offset: 25, color: "yellow", opacity: 1 },
                    { offset: 50, color: "green", opacity: 1 },
                    { offset: 80, color: "green", opacity: 1 },
                    { offset: 100, color: "yellow", opacity: 1 }
                ]
            },
        },
        stroke: {
            curve: 'straight',
            width: 6,
        },
        // X-axis ranges
        xaxis: {
            categories: ['Low', 'Low', 'Normal', 'Normal', 'Normal', 'Overweight', 'Overweight'],
            labels: {
                show: false,
            },
            axisBorder: {
                show: false,
            },
            axisTicks: {
                show: false,
            },
        },

        yaxis: {
            show: true,
            labels: {
                formatter: function (value) {
                    return value;
                }
            }
        },
    }

    // Remove annotations if tempBF is not defined
    if (!tempBF) {
        // console.log("deleted BFOptions annotations.");
        delete BFOptions.annotations;
    }

    // Render BF chart if element exists and ApexCharts is available
    if (document.getElementById("bf-chart") && typeof ApexCharts !== 'undefined') {
        const BFchart = new ApexCharts(document.getElementById("bf-chart"), BFOptions);
        BFchart.render();
    }

    // Object for T-Score bar graph configuration
    const TScoreOptions = {
        series: [{
            data: [{
                x: 'Test Range',
                y: [-5, 2], // Range for T-Score
            }]
        }],
        chart: {
            toolbar: { show: false }, // Hide toolbar
            type: 'rangeBar',
            height: 120,
            maxWidth: "100%",
            padding: {
                left: 10,
                right: 10,
                top: 10,
                bottom: 10,
            },
        },
        // Annotations configuration
        annotations: {
            xaxis: [{
                x: tempTScore, // Value of userTScore from DB
                strokeDashArray: 0, // Solid line
                borderWidth: 4,
                stroke: 2,
                borderColor: '#775DD0', // Line color
            }]
        },
        // Plot options configuration
        plotOptions: {
            bar: {
                horizontal: true, // Horizontal bar
            }
        },
        // Data labels configuration
        dataLabels: {
            enabled: false
        },
        // X-axis configuration
        xaxis: {
            min: -6, // Minimum value for X-axis
            max: 4, // Maximum value for X-axis
        },
    };

    // Render T-Score chart if element exists and ApexCharts is available
    if (document.getElementById("t-score-chart") && typeof ApexCharts !== 'undefined') {
        const TScoreChart = new ApexCharts(document.getElementById("t-score-chart"), TScoreOptions);
        TScoreChart.render();
    }
</script>